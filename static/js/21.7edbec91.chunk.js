(this["webpackJsonpcalliope-lite-backbone"]=this["webpackJsonpcalliope-lite-backbone"]||[]).push([[21,32],{109:function(e,t,i){},156:function(e,t,i){"use strict";t.a={trend:"Trend",forecasting:"Forecasting",frequent_pattern:"Similarity",seasonality:"Seasonality",univariate_outlier:"Outlier",univariate_distribution:"Distribution",similarity:"Similarity",multivariate_outlier:"Outlier",multivariate_distribution:"Correlation",clustering:"Clustering",outstanding:"Extreme",autocorrelation:"Autocorrelation"}},160:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var a={trend:"#8dd3c7",forecasting:"#f0e68c",seasonality:"#80b1d3",distribution:"#F5DEB3",similarity:"#b3de69",outlier:"#fccde5",correlation:"#d9d9d9",clustering:" #bc80bd",autocorrelation:"#bebada",extreme:"#FF7F50",null:"white"}},183:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var a=function(e,t){if(-1===e.indexOf(t))return e;var i=e.indexOf(t),a=e.substring(0,i+t.length)+"</b></span>"+e.substring(i+t.length);return a=a.substring(0,i)+'<span class="timeline-hightlight"><b>'+a.substring(i)}},299:function(e,t,i){"use strict";t.a={trend:"\u8d8b\u52bf",forecasting:"\u9884\u6d4b",frequent_pattern:"\u76f8\u4f3c\u6027",seasonality:"\u5468\u671f\u6027",univariate_outlier:"\u5f02\u5e38",univariate_distribution:"\u5206\u5e03",similarity:"\u76f8\u4f3c\u6027",multivariate_outlier:"\u5f02\u5e38",multivariate_distribution:"\u5173\u8054\u6027",clustering:"\u805a\u7c7b",outstanding:"\u6781\u503c",autocorrelation:"\u81ea\u76f8\u5173\u6027"}},48:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return y}));var a=i(13),n=i(14),r=i(16),c=i(15),s=i(0),o=i.n(s),l=i(238),u=i(160),d=i(150),f=(i(28),i(149)),p=i(168),h=i(183),m=i(156),g=i(299),y=function(e){Object(r.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(a.a)(this,i),(n=t.call(this,e)).parseCaptionStyleToEmpty=function(){n.styleHlight&&(n.styleHlight.innerHTML="")},n.styleHlight=o.a.createRef(),n.desFitRef=o.a.createRef(),n.textFitRef=o.a.createRef(),n.headerRef=o.a.createRef(),n.state={},n}return Object(n.a)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.insightSpec,i=e.captionId,a=e.timeValue,n=e.factType,r=e.currentLocale,c=e.sequence,s=e.index;if(this.visNode){var o=this.visNode.children[0];if(o){var l=this.props.factType,u=150/f.a[l].width,d=120/f.a[l].height;o.style.transform="scaleX(".concat(u,")scaleY(").concat(d,")")}}var h="";"empty"!==t&&void 0!==t&&(h=Object(p.a)(t.fact,c[s].oriBlock,n,r,i,a,c[s].action),this.parseCaptionStyle(t.fact,h,a))}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,i=150/f.a[t].width,a=120/f.a[t].height;e.style.transform="scaleX(".concat(i,")scaleY(").concat(a,")")}}}},{key:"computeDes",value:function(){var e={width:"100%",height:"fit-content",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",lineHeight:"18px"};return e}},{key:"computeDesScripts",value:function(){var e={width:"100%",height:"75px",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"5",overflowY:"scroll",wordBreak:"break-all"};return e}},{key:"parseScript",value:function(){this.desFitRef&&(this.desFitRef._child.offsetHeight>=75?(this.desFitRef._child.style["font-size"]="10px",this.desFitRef._child.style["transform-origin"]="top left",this.desFitRef._child.style["line-height"]=1.1):(this.desFitRef._child.style.transform="scale(1)",this.desFitRef._child.style["font-size"]="10px",this.desFitRef._child.style["transform-origin"]="top left",this.desFitRef._child.style["line-height"]=1.1),this.desFitRef._child.contentEditable=!1,this.desFitRef._child.spellCheck=!1)}},{key:"titleFitReady",value:function(){}},{key:"parseCaptionStyle",value:function(e,t,i){var a=this.props,n=a.sequence,r=a.factType,c=a.index,s=a.currentLocale;if(this.desFitRef._child&&void 0!==i){var o="",l="",u=n[c].oriBlock[0].value[0];l="similarity"===r||"frequent_pattern"===r||"seasonality"===r?i[u.start]+"".concat("en-US"===s?" and ":"\u5230")+i[u.end]:e.subspace.length>0?i[e.subspace[0]]+"".concat("en-US"===s?" and ":"\u5230")+i[e.subspace[1]]:i[0]+"".concat("en-US"===s?" and ":"\u5230")+i[i.length-1],-1===t.indexOf("timeline-highlight")&&(o=Object(h.a)(t,l),o=Object(h.a)(o,l.replace("and","to"))),this.desFitRef._child.innerHTML=o}}},{key:"render",value:function(){var e=this,t=this.props,i=t.sequence,a=t.timeValue,n=t.font_min_size,r=t.insightSpec,c=t.captionId,s=t.factType,h=t.index,y=t.currentLocale,v=r;return"empty"!==r&&void 0!==r&&(Object(p.a)(r.fact,i[h].oriBlock,s,y,c,a,i[h].action),v.chart.id="export-"+h.toString()+"-"+s,v.chart.width=f.a[s].width,v.chart.height=f.a[s].height,v.chart.showTooltip=!1),o.a.createElement("div",{className:"onetime",style:{display:"flex",flexDirection:"column",height:"250px",outline:"3px solid"+u.a[m.a[s].toLowerCase()],outlineOffset:"-3px"}},o.a.createElement("div",{className:"vis",ref:function(t){return e.visNode=t},style:{overflow:"hidden"}},"empty"===r?null:o.a.createElement(d.a,{spec:v})),o.a.createElement("div",{className:"des tl-edit",spellCheck:"false",style:{lineHeight:1.5},ref:this.styleHlight},o.a.createElement(l.Textfit,{key:r,ref:function(t){return e.desFitRef=t},mode:"multi",max:14,style:this.computeDesScripts(),onReady:function(){return e.parseScript()}})),o.a.createElement("div",{className:"header_type tl-edit",ref:function(t){return e.headerRef=t},style:{paddingTop:0}},o.a.createElement(l.Textfit,{ref:function(t){return e.textFitRef=t},className:"text",mode:"multi",max:30,min:n,style:this.computeDes,onReady:function(){return e.titleFitReady()}},"en-US"===y?m.a[s]:g.a[s])))}}]),i}(s.Component)},55:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return v}));var a=i(13),n=i(14),r=i(16),c=i(15),s=i(0),o=i.n(s),l=i(160),u=i(224),d=i.n(u),f=(i(109),i(48)),p={"-1":"#B0C4DE",0:"#FF69B4",1:"#9932CC",2:"#8A2BE2",3:"#1E90FF",4:"#3CB371",5:"#7cb518",6:"#CD853F",7:"#CD5C5C",8:"#8f2d56",9:"#d81159"},h=i(196),m=i(156),g=i(299),y=i(197),v=function(e){Object(r.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(a.a)(this,i),(n=t.call(this,e)).onStart=function(){},n.onStop=function(){},n.onDrag=function(){},n.moving=function(e){var t="left"===e?"+":"-",i=e+"Opacity";if(.2!==n.state[i]){var a,r=n.olRef,c=getComputedStyle(r),s=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform");a="none"===s?parseInt("".concat(t).concat(280)):parseInt(s.split(",")[4])+parseInt("".concat(t).concat(280)),n.setState({timelineTransform:a}),n.olRef.transform="translateX(".concat(a,"px)"),setTimeout((function(){n._checkVisibility()}),1e3)}},n.isElementInViewport=function(e,t){if(!e)return!1;var i=e.getBoundingClientRect(),a=e.parentNode.parentNode.parentNode.getBoundingClientRect();return"last"===t?i.right<=a.right:i.left>=a.left},n._checkVisibility=function(){var e=n.lastItem;n.isElementInViewport(e,"last")?n.setState({rightOpacity:.2}):n.setState({rightOpacity:.8});var t=n.firstItem;n.isElementInViewport(t,"first")?n.setState({leftOpacity:.2}):n.setState({leftOpacity:.8})},n.titleRef=o.a.createRef(),n.lastItem=o.a.createRef(),n.firstItem=o.a.createRef(),n.olRef=o.a.createRef(),n.onetimeRef={},n.state={timelineWidth:0,leftOpacity:.2,rightOpacity:.8,activeDrags:0,timelineTransform:0,minFontSizeTitle:18,containerHeight:n.props.visContainerSize.height-320},n}return Object(n.a)(i,[{key:"render",value:function(){var e=this,t=this.props.location.state,i=t.currentLocale,a=t.timeValue,n=this.props.location.state.sequence;n=n.filter((function(e,t){return"empty"!==e.type}));var r=[],c=[];for(var s in n)r.includes(n[s].type)||r.push(n[s].type),"0"!==s&&(n[s].hasOwnProperty("action")&&void 0!=n[s].action?c.includes(n[s].action)||(console.log(s,n[s]),c.push(n[s].action)):c.includes(-1)||c.push(-1));console.log(c);var u=[];for(var v in n)0!==v&&(n[v].hasOwnProperty("action")&&void 0!=n[v].action?u.push(n[v].action):u.push(-1));var b={onStart:this.onStart,onStop:this.onStop,onDrag:this.onDrag};return console.log(n),o.a.createElement("div",{style:{height:"".concat(this.state.containerHeight,"px"),position:"relative",paddingTop:(this.state.containerHeight-380)/2+"px",paddingBottom:(this.state.containerHeight-380)/2+"px"}},o.a.createElement("div",{style:{display:"flex"},className:"export-sequence-line"},0!==n.length&&void 0!==n[0]&&o.a.createElement("div",{className:"btn-arrow ".concat(.8===this.state.leftOpacity?"enabledBtn":""),style:{opacity:this.state.leftOpacity},onClick:function(){return e.moving("left")}},o.a.createElement("svg",{style:{margin:"auto",transform:"scale(0.8)"},viewBox:"64 64 896 896",focusable:"false","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o.a.createElement("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}))," "),o.a.createElement("div",{style:{width:"90%"},className:"content timeline"},o.a.createElement(d.a,Object.assign({axis:"x",cancel:".tl-edit"},b,{enableUserSelectHack:!0}),o.a.createElement("div",null,0!==n.length&&void 0!==n[0]&&o.a.createElement("ol",{ref:function(t){return e.olRef=t},style:{transform:"translateX(".concat(this.state.timelineTransform,"px)")}},n.map((function(t,r){return 0===r?o.a.createElement("li",{key:r,ref:function(t){return e.firstItem=t},className:m.a[t.type].toLowerCase(),style:{backgroundImage:"linear-gradient(to right, ".concat(p[u[r].toString()]," , ").concat(p[u[r].toString()],")")}},o.a.createElement(f.default,Object.assign({sequence:n,timeValue:a,currentLocale:i,index:r,insightSpec:t.spec,captionId:t.captionId,factType:t.type,font_min_size:20},e.props,{passOnClick:e.handleClickDiv}))):o.a.createElement("li",{key:r,className:m.a[t.type].toLowerCase(),style:{backgroundImage:"linear-gradient(to right, ".concat(p[u[r].toString()]," , ").concat(p[u[r].toString()],")")}},o.a.createElement(f.default,Object.assign({sequence:n,timeValue:a,currentLocale:i,index:r,insightSpec:t.spec,captionId:t.captionId,factType:t.type,font_min_size:20},e.props,{passOnClick:e.handleClickDiv})))})),o.a.createElement("li",{ref:function(t){return e.lastItem=t}}))))),0!==n.length&&void 0!==n[0]&&o.a.createElement("div",{className:"btn-arrow ".concat(.8===this.state.rightOpacity?"enabledBtn":""),style:{opacity:this.state.rightOpacity},onClick:function(){return e.moving("right")}},o.a.createElement("svg",{style:{margin:"auto",transform:"scale(0.8)"},viewBox:"64 64 896 896",focusable:"false","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o.a.createElement("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"})))),o.a.createElement("div",{className:"legends",style:{width:"100%"}},r.map((function(e,t){return o.a.createElement("div",{className:"legend",key:t},o.a.createElement("span",{className:"dot",style:{backgroundColor:"".concat(l.a[m.a[e].toLowerCase()])}}),o.a.createElement("div",{className:"dot_text"},"en-US"===i?m.a[e]:g.a[e]))})),c.length>0?o.a.createElement("div",{className:"legend-space"}):null,c.map((function(e,t){return o.a.createElement("div",{className:"legend",key:t},o.a.createElement("span",{className:"line",style:{backgroundColor:"".concat(p[e.toString()])}}),o.a.createElement("div",{className:"dot_text"},"en-US"===i?h.a[e.toString()]:y.a[e.toString()]))}))))}}]),i}(s.Component)}}]);
//# sourceMappingURL=21.7edbec91.chunk.js.map