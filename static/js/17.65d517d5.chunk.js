(this["webpackJsonpcalliope-lite-backbone"]=this["webpackJsonpcalliope-lite-backbone"]||[]).push([[17,21,29,30,31,32],{106:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},156:function(e,t,a){"use strict";t.a={trend:"Trend",forecasting:"Forecasting",frequent_pattern:"Similarity",seasonality:"Seasonality",univariate_outlier:"Outlier",univariate_distribution:"Distribution",similarity:"Similarity",multivariate_outlier:"Outlier",multivariate_distribution:"Correlation",clustering:"Clustering",outstanding:"Extreme",autocorrelation:"Autocorrelation"}},160:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={trend:"#8dd3c7",forecasting:"#f0e68c",seasonality:"#80b1d3",distribution:"#F5DEB3",similarity:"#b3de69",outlier:"#fccde5",correlation:"#d9d9d9",clustering:" #bc80bd",autocorrelation:"#bebada",extreme:"#FF7F50",null:"white"}},183:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i=function(e,t){if(-1===e.indexOf(t))return e;var a=e.indexOf(t),i=e.substring(0,a+t.length)+"</b></span>"+e.substring(a+t.length);return i=i.substring(0,a)+'<span class="timeline-hightlight"><b>'+i.substring(a)}},299:function(e,t,a){"use strict";t.a={trend:"\u8d8b\u52bf",forecasting:"\u9884\u6d4b",frequent_pattern:"\u76f8\u4f3c\u6027",seasonality:"\u5468\u671f\u6027",univariate_outlier:"\u5f02\u5e38",univariate_distribution:"\u5206\u5e03",similarity:"\u76f8\u4f3c\u6027",multivariate_outlier:"\u5f02\u5e38",multivariate_distribution:"\u5173\u8054\u6027",clustering:"\u805a\u7c7b",outstanding:"\u6781\u503c",autocorrelation:"\u81ea\u76f8\u5173\u6027"}},48:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var i=a(13),n=a(14),c=a(16),r=a(15),s=a(0),l=a.n(s),o=a(238),h=a(160),u=a(150),f=(a(28),a(149)),p=a(168),d=a(183),m=a(156),y=a(299),g=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).parseCaptionStyleToEmpty=function(){n.styleHlight&&(n.styleHlight.innerHTML="")},n.styleHlight=l.a.createRef(),n.desFitRef=l.a.createRef(),n.textFitRef=l.a.createRef(),n.headerRef=l.a.createRef(),n.state={},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.insightSpec,a=e.captionId,i=e.timeValue,n=e.factType,c=e.currentLocale,r=e.sequence,s=e.index;if(this.visNode){var l=this.visNode.children[0];if(l){var o=this.props.factType,h=150/f.a[o].width,u=120/f.a[o].height;l.style.transform="scaleX(".concat(h,")scaleY(").concat(u,")")}}var d="";"empty"!==t&&void 0!==t&&(d=Object(p.a)(t.fact,r[s].oriBlock,n,c,a,i,r[s].action),this.parseCaptionStyle(t.fact,d,i))}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,a=150/f.a[t].width,i=120/f.a[t].height;e.style.transform="scaleX(".concat(a,")scaleY(").concat(i,")")}}}},{key:"computeDes",value:function(){var e={width:"100%",height:"fit-content",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",overflow:"hidden",lineHeight:"18px"};return e}},{key:"computeDesScripts",value:function(){var e={width:"100%",height:"75px",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"5",overflowY:"scroll",wordBreak:"break-all"};return e}},{key:"parseScript",value:function(){this.desFitRef&&(this.desFitRef._child.offsetHeight>=75?(this.desFitRef._child.style["font-size"]="10px",this.desFitRef._child.style["transform-origin"]="top left",this.desFitRef._child.style["line-height"]=1.1):(this.desFitRef._child.style.transform="scale(1)",this.desFitRef._child.style["font-size"]="10px",this.desFitRef._child.style["transform-origin"]="top left",this.desFitRef._child.style["line-height"]=1.1),this.desFitRef._child.contentEditable=!1,this.desFitRef._child.spellCheck=!1)}},{key:"titleFitReady",value:function(){}},{key:"parseCaptionStyle",value:function(e,t,a){var i=this.props,n=i.sequence,c=i.factType,r=i.index,s=i.currentLocale;if(this.desFitRef._child&&void 0!==a){var l="",o="",h=n[r].oriBlock[0].value[0];o="similarity"===c||"frequent_pattern"===c||"seasonality"===c?a[h.start]+"".concat("en-US"===s?" and ":"\u5230")+a[h.end]:e.subspace.length>0?a[e.subspace[0]]+"".concat("en-US"===s?" and ":"\u5230")+a[e.subspace[1]]:a[0]+"".concat("en-US"===s?" and ":"\u5230")+a[a.length-1],-1===t.indexOf("timeline-highlight")&&(l=Object(d.a)(t,o),l=Object(d.a)(l,o.replace("and","to"))),this.desFitRef._child.innerHTML=l}}},{key:"render",value:function(){var e=this,t=this.props,a=t.sequence,i=t.timeValue,n=t.font_min_size,c=t.insightSpec,r=t.captionId,s=t.factType,d=t.index,g=t.currentLocale,v=c;return"empty"!==c&&void 0!==c&&(Object(p.a)(c.fact,a[d].oriBlock,s,g,r,i,a[d].action),v.chart.id="export-"+d.toString()+"-"+s,v.chart.width=f.a[s].width,v.chart.height=f.a[s].height,v.chart.showTooltip=!1),l.a.createElement("div",{className:"onetime",style:{display:"flex",flexDirection:"column",height:"250px",outline:"3px solid"+h.a[m.a[s].toLowerCase()],outlineOffset:"-3px"}},l.a.createElement("div",{className:"vis",ref:function(t){return e.visNode=t},style:{overflow:"hidden"}},"empty"===c?null:l.a.createElement(u.a,{spec:v})),l.a.createElement("div",{className:"des tl-edit",spellCheck:"false",style:{lineHeight:1.5},ref:this.styleHlight},l.a.createElement(o.Textfit,{key:c,ref:function(t){return e.desFitRef=t},mode:"multi",max:14,style:this.computeDesScripts(),onReady:function(){return e.parseScript()}})),l.a.createElement("div",{className:"header_type tl-edit",ref:function(t){return e.headerRef=t},style:{paddingTop:0}},l.a.createElement(o.Textfit,{ref:function(t){return e.textFitRef=t},className:"text",mode:"multi",max:30,min:n,style:this.computeDes,onReady:function(){return e.titleFitReady()}},"en-US"===g?m.a[s]:y.a[s])))}}]),a}(s.Component)},49:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var i=a(13),n=a(14),c=a(16),r=a(15),s=a(0),l=a.n(s),o=a(149),h=a(150),u=(a(28),a(106),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).calcuChartSize(),n}return Object(n.a)(a,[{key:"calcuChartSize",value:function(){switch(this.props.factStyle){case"2p3":this.width=230;break;case"2p":this.width=300;break;case"3p":this.width=350;break;case"4p":this.width=400;break;case"6p":this.width=560}}},{key:"componentDidMount",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,a=this.width/o.a[t].width,i=(this.width/2+50)/o.a[t].height;e.style.transform="scaleX(".concat(a,")scaleY(").concat(i,")")}}}},{key:"componentDidUpdate",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,a=this.width/o.a[t].width,i=this.height/o.a[t].height;e.style.transform="scaleX(".concat(a,")scaleY(").concat(i,")")}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.index,i=t.factType,n=t.insightSpec;return n.chart.id="export-"+a+"-"+i,n.chart.width=o.a[i].width,n.chart.height=o.a[i].height,n.chart.showTooltip=!1,l.a.createElement("div",{className:"insight-fact-card",ref:function(t){return e.visNode=t}},l.a.createElement(h.a,{spec:n}))}}]),a}(s.Component))},50:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return u}));var i=a(13),n=a(14),c=a(16),r=a(15),s=a(0),l=a.n(s),o=a(238),h=a(168),u=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).textRef=l.a.createRef(),n}return Object(n.a)(a,[{key:"textFitReady",value:function(e,t){e&&(e._parent.style.height="fit-content",e._parent.clientHeight>parseFloat(t.height,10)&&(e._parent.style["line-height"]=1),e._parent.clientHeight>parseFloat(t.height,10)&&(e._parent.style.transform="scale(0.833)"),e._child.contentEditable=!1,e._child.spellCheck=!1,e._child.suppressContentEditableWarning=!1)}},{key:"computeDes",value:function(e,t){var a={};switch(e){case"6p":case"4p":a.height="".concat(.8*t,"px");break;case"3p":t>=235?(a.width="90%",a.height="".concat(.3*t,"px")):a.height="".concat(.75*t,"px");break;case"2p3":case"2p":t>=235?(a.width="90%",a.height="".concat(.3*t,"px")):a.height="".concat(.75*t,"px")}return a}},{key:"render",value:function(){var e=this,t=this.props,a=t.factStyle,i=t.slotHeight,n=t.generatedScript,c=t.currentLocale,r=t.captionId,s=t.insightSpec,u=t.factType;return l.a.createElement("div",{className:"fs_edit factsheetSlotIn factsheetDes",spellCheck:"false",style:{width:i>235||"6p"===a?"90%":"",lineHeight:n.length>100?n.length>140?1.1:1.2:1.5}},l.a.createElement(o.Textfit,{ref:function(t){return e.textRef=t},className:"fs_text",style:this.computeDes(a,i),mode:"multi",max:"6p"===a||"4p"===a?18:16,min:10,onReady:function(){e.textFitReady(e.textRef,e.computeDes(a,i))}},Object(h.a)(s.fact,u,c,r)))}}]),a}(s.Component)},53:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var i=a(154),n=a(13),c=a(14),r=a(16),s=a(15),l=a(0),o=a.n(l),h=a(160),u=a(49),f=a(50),p=(a(110),a(28)),d=a.n(p),m=(a(168),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).calcuFactStyle=function(e){if(0!==e.length){var t=[];!function e(t,a,n){0!==t.length?d.a.range(1,4).forEach((function(c){var r=t.slice(0,c);if(!(r.length<c)){var s=t.slice(c),l=Object(i.a)(a);l.push(r),e(s,l,n)}})):n.push(a)}(d.a.range(0,e.length),[],t);var a=(t=t.filter((function(t){return t.length<=d.a.max([t.length>2?2:1,Math.round(e.length/2)])}))).filter((function(e){return e.length<=5}));0!==a.length&&(t=a);for(var n=e.length,c=Math.floor(n/3),r=Math.floor(n%3/2),s=n%3%2,l=0;l<n;l++)e[l].layout=l<3*c?"2p3":l<3*c+2*r?"3p":"6p";var o=0;switch(c+r+s){case 1:o=980;break;case 2:o=480;break;case 3:o=313.333;break;case 4:o=230;break;case 5:o=200}return{slotHeight:o,sequence:e}}},e}return Object(c.a)(a,[{key:"computePdfSize",value:function(){var e={fontFamily:"sans-serif",width:"825px",height:"1166px",backgroundColor:"#F9F8F6",position:"relative"};return e}},{key:"render",value:function(){var e=this,t=this.props.location.state.currentLocale,a=this.props.location.state.sequence;a=a.filter((function(e,t){return"empty"!==e.type}));var i=this.calcuFactStyle(a),n=i.slotHeight;return a=i.sequence,o.a.createElement("div",{className:"fsPDF",id:"PDF",style:this.computePdfSize()},o.a.createElement("div",{style:{height:"55px",alignItems:"center",display:"flex"}},o.a.createElement("div",{className:"factsheetContent",style:{paddingTop:"20px",maxWidth:"100%"}},o.a.createElement("h1",{className:"factsheetTitle fs_edit"},"Indicators"))),o.a.createElement("div",{style:{height:"25px",alignItems:"center",display:"flex"}},o.a.createElement("div",{className:"factsheetContent",style:{paddingTop:"20px",maxWidth:"100%"}},o.a.createElement("p",{className:"factsheetSubTitle fs_edit"},"Data scope:[2003/03/17-2003/07/11]]"))),o.a.createElement("div",{className:"factsheetContent",style:{marginLeft:"",height:"calc(100% - 125px)"}},a.map((function(a,i){return o.a.createElement("div",{key:i,className:"factsheetSlot factsheetSlot_".concat(a.layout),style:{height:"".concat(n,"px"),marginTop:"20px",boxShadow:"inset 0 0 0 2px ".concat(h.a[a.type],", 0 0 0 1px ").concat(h.a[a.type])}},o.a.createElement("div",{className:"factsheetSlotIn"},o.a.createElement("div",{className:"factsheetSlotType text-uppercase"},a.type),o.a.createElement("div",{className:"factsheetSlotContent",style:{height:"".concat(n-50,"px"),flexDirection:n>235||"4p"===a.layout||"6p"===a.layout?"column":"row"}},o.a.createElement(f.default,Object.assign({generatedScript:a.type,slotHeight:n,factStyle:a.layout,currentLocale:t,captionId:a.captionId,insightSpec:a.spec,factType:a.type},e.props)),o.a.createElement("div",{className:"factsheetSlotIn factsheetVis",style:{transform:"translate(0px,-15px)scale(0.9)"}},o.a.createElement(u.default,{index:i,factStyle:a.layout,factType:a.type,insightSpec:a.spec})))),o.a.createElement("div",{className:"factsheetSlotId text-uppercase"},i+1))}))),o.a.createElement("div",{className:"fs-powerby",style:{height:"25px"}},o.a.createElement("div",{className:"fs-logo"}),o.a.createElement("div",{style:{display:"inline-block"}},"Powered By Calliope")))}}]),a}(l.Component))},55:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var i=a(13),n=a(14),c=a(16),r=a(15),s=a(0),l=a.n(s),o=a(160),h=a(224),u=a.n(h),f=(a(109),a(48)),p={"-1":"#B0C4DE",0:"#FF69B4",1:"#9932CC",2:"#8A2BE2",3:"#1E90FF",4:"#3CB371",5:"#7cb518",6:"#CD853F",7:"#CD5C5C",8:"#8f2d56",9:"#d81159"},d=a(196),m=a(156),y=a(299),g=a(197),v=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onStart=function(){},n.onStop=function(){},n.onDrag=function(){},n.moving=function(e){var t="left"===e?"+":"-",a=e+"Opacity";if(.2!==n.state[a]){var i,c=n.olRef,r=getComputedStyle(c),s=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform");i="none"===s?parseInt("".concat(t).concat(280)):parseInt(s.split(",")[4])+parseInt("".concat(t).concat(280)),n.setState({timelineTransform:i}),n.olRef.transform="translateX(".concat(i,"px)"),setTimeout((function(){n._checkVisibility()}),1e3)}},n.isElementInViewport=function(e,t){if(!e)return!1;var a=e.getBoundingClientRect(),i=e.parentNode.parentNode.parentNode.getBoundingClientRect();return"last"===t?a.right<=i.right:a.left>=i.left},n._checkVisibility=function(){var e=n.lastItem;n.isElementInViewport(e,"last")?n.setState({rightOpacity:.2}):n.setState({rightOpacity:.8});var t=n.firstItem;n.isElementInViewport(t,"first")?n.setState({leftOpacity:.2}):n.setState({leftOpacity:.8})},n.titleRef=l.a.createRef(),n.lastItem=l.a.createRef(),n.firstItem=l.a.createRef(),n.olRef=l.a.createRef(),n.onetimeRef={},n.state={timelineWidth:0,leftOpacity:.2,rightOpacity:.8,activeDrags:0,timelineTransform:0,minFontSizeTitle:18,containerHeight:n.props.visContainerSize.height-320},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.location.state,a=t.currentLocale,i=t.timeValue,n=this.props.location.state.sequence;n=n.filter((function(e,t){return"empty"!==e.type}));var c=[],r=[];for(var s in n)c.includes(n[s].type)||c.push(n[s].type),"0"!==s&&(n[s].hasOwnProperty("action")&&void 0!=n[s].action?r.includes(n[s].action)||(console.log(s,n[s]),r.push(n[s].action)):r.includes(-1)||r.push(-1));console.log(r);var h=[];for(var v in n)0!==v&&(n[v].hasOwnProperty("action")&&void 0!=n[v].action?h.push(n[v].action):h.push(-1));var b={onStart:this.onStart,onStop:this.onStop,onDrag:this.onDrag};return console.log(n),l.a.createElement("div",{style:{height:"".concat(this.state.containerHeight,"px"),position:"relative",paddingTop:(this.state.containerHeight-380)/2+"px",paddingBottom:(this.state.containerHeight-380)/2+"px"}},l.a.createElement("div",{style:{display:"flex"},className:"export-sequence-line"},0!==n.length&&void 0!==n[0]&&l.a.createElement("div",{className:"btn-arrow ".concat(.8===this.state.leftOpacity?"enabledBtn":""),style:{opacity:this.state.leftOpacity},onClick:function(){return e.moving("left")}},l.a.createElement("svg",{style:{margin:"auto",transform:"scale(0.8)"},viewBox:"64 64 896 896",focusable:"false","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.a.createElement("path",{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}))," "),l.a.createElement("div",{style:{width:"90%"},className:"content timeline"},l.a.createElement(u.a,Object.assign({axis:"x",cancel:".tl-edit"},b,{enableUserSelectHack:!0}),l.a.createElement("div",null,0!==n.length&&void 0!==n[0]&&l.a.createElement("ol",{ref:function(t){return e.olRef=t},style:{transform:"translateX(".concat(this.state.timelineTransform,"px)")}},n.map((function(t,c){return 0===c?l.a.createElement("li",{key:c,ref:function(t){return e.firstItem=t},className:m.a[t.type].toLowerCase(),style:{backgroundImage:"linear-gradient(to right, ".concat(p[h[c].toString()]," , ").concat(p[h[c].toString()],")")}},l.a.createElement(f.default,Object.assign({sequence:n,timeValue:i,currentLocale:a,index:c,insightSpec:t.spec,captionId:t.captionId,factType:t.type,font_min_size:20},e.props,{passOnClick:e.handleClickDiv}))):l.a.createElement("li",{key:c,className:m.a[t.type].toLowerCase(),style:{backgroundImage:"linear-gradient(to right, ".concat(p[h[c].toString()]," , ").concat(p[h[c].toString()],")")}},l.a.createElement(f.default,Object.assign({sequence:n,timeValue:i,currentLocale:a,index:c,insightSpec:t.spec,captionId:t.captionId,factType:t.type,font_min_size:20},e.props,{passOnClick:e.handleClickDiv})))})),l.a.createElement("li",{ref:function(t){return e.lastItem=t}}))))),0!==n.length&&void 0!==n[0]&&l.a.createElement("div",{className:"btn-arrow ".concat(.8===this.state.rightOpacity?"enabledBtn":""),style:{opacity:this.state.rightOpacity},onClick:function(){return e.moving("right")}},l.a.createElement("svg",{style:{margin:"auto",transform:"scale(0.8)"},viewBox:"64 64 896 896",focusable:"false","data-icon":"left",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l.a.createElement("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"})))),l.a.createElement("div",{className:"legends",style:{width:"100%"}},c.map((function(e,t){return l.a.createElement("div",{className:"legend",key:t},l.a.createElement("span",{className:"dot",style:{backgroundColor:"".concat(o.a[m.a[e].toLowerCase()])}}),l.a.createElement("div",{className:"dot_text"},"en-US"===a?m.a[e]:y.a[e]))})),r.length>0?l.a.createElement("div",{className:"legend-space"}):null,r.map((function(e,t){return l.a.createElement("div",{className:"legend",key:t},l.a.createElement("span",{className:"line",style:{backgroundColor:"".concat(p[e.toString()])}}),l.a.createElement("div",{className:"dot_text"},"en-US"===a?d.a[e.toString()]:g.a[e.toString()]))}))))}}]),a}(s.Component)},56:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var i=a(13),n=a(14),c=a(16),r=a(15),s=a(0),l=a.n(s),o=a(55),h=(a(53),a(112),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(n.a)(a,[{key:"render",value:function(){var e=l.a.createElement(o.default,Object.assign({forPublish:!0,visContainerSize:{width:750,height:669}},this.props));return l.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}},e)}}]),a}(s.Component))}}]);
//# sourceMappingURL=17.65d517d5.chunk.js.map